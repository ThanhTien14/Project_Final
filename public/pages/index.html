<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Chủ</title>
    <link rel="stylesheet" href="products.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <h2>Chức Năng</h2>
            <ul>
                <li><a href="/">Homepage</a></li>
                <li><a href="#">Orders</a></li>
                <li><a href="/products">Products</a></li>
                <li><a href="#">Customers</a></li>
                <li><a href="#">Staff and Roles</a></li>
                <li><a href="#">Reports</a></li>
                <li><a href="#">Setting</a></li>
            </ul>
        </aside>
        <main class="main-content">
            <div class="product-grid"></div>
        </main>
    </div>

    <div class="container">
        <div class="search-bar">
            <input type="text" placeholder="Tìm kiếm sản phẩm...">
            <button>Tìm</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/api/products-data') // Lấy dữ liệu sản phẩm từ backend
                .then(response => response.json())
                .then(products => {
                    const productGrid = document.querySelector('.product-grid');
                    products.forEach(product => {
                        const productCard = document.createElement('div');
                        productCard.classList.add('product-card');

                        const image = document.createElement('img');
                        image.src = `/${product.image_url}`;
                        image.alt = product.name;

                        const title = document.createElement('h3');
                        title.textContent = product.name;

                        const price = document.createElement('p');
                        price.classList.add('price');
                        price.textContent = `$${product.price.toFixed(2)}`; // Giả sử giá là số

                        productCard.appendChild(image);
                        productCard.appendChild(title);
                        productCard.appendChild(price);

                        productGrid.appendChild(productCard);
                    });
                })
                .catch(error => console.error('Lỗi khi tải sản phẩm:', error));
        });
    </script>
</body>
</html>